<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Default Metadata -->
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- SEO things so more people can see the site -->
    <meta name="description" content="The WorryBox">
    <title>The WorryBox</title>
    <!-- CSS Shit -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
      crossorigin="anonymous"
    />
    <script
      src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
      integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
      crossorigin="anonymous"
    ></script>
    <link rel="stylesheet" href="style.css" />
    <style>
      @import url("https://fonts.googleapis.com/css2?family=IBM+Plex+Sans&display=swap");
      * {
        font-family: "IBM Plex Sans", sans-serif;
      }
      textarea {
        resize: none;
      }
    </style>
    <!-- Discord Metadata -->
    <meta content="The WorryBox" property="og:site_name" />
  </head>
  <body>
<!--     <header class="d-flex justify-content-center py-3">
    </header> -->
    <div class="mt-4 ms-4">
      <h1>The WorryBox</h1>
      <p>
        Welcome to the WorryBox! Want a place to sink all your emotions into? Well
        here it is!<br /><br />Just write it down below, press the button and it
        gets eaten by the worry monster.
      </p>
    </div>
    <form>
      <div class="form-group mt-4 ms-4 me-4">
        <textarea
          class="form-control z-depth-1 worrybox"
          id="worrybox"
          rows="3"
          placeholder="Place your worries here..."
        ></textarea>
      </div>
      <button
        type="button"
        class="btn btn-primary mt-2 ms-4"
        onClick="run(); javascript:eraseText();"
      >
        Eat my worries!
      </button>
    </form>

    <div id="simpleModal" class="modal fade" tabindex="-1" role="dialog">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">Saftey Notice</h5>
            </button>
          </div>
          <div class="modal-body">Hi!<br><br>The code embedded on this website has noticed you have mentioned suicide. While I beleive everyone should be ok to express emotions without judgement, suicide is never the option.<br>If you are struggling with mental health please call one of the numbers below.<br><br>Samaritans - 116 123<br>National Suicide Helpline UK - 0800 689 5652<br>Website with phone numbers in most countries - <a href="https://www.opencounseling.com/suicide-hotlines">https://www.opencounseling.com/suicide-hotlines</a></div>
        </div>
      </div>
    </div>

    <!-- Popper JS & Bootstrap JS -->
    <script>
      // For those looking at this and wondering, all these functions do is open the popup box when suicide or things linking to it are mentioned in the worrybox
      function OpenBootstrapPopup() {
        $("#simpleModal").modal("show");
      }

      function run() {
        if (document.getElementById("worrybox").value.includes("suicide") || document.getElementById("worrybox").value.includes("want to die") || document.getElementById("worrybox").value.includes("its not worth living") ||  document.getElementById("worrybox").value.includes("kill myself")) {
          OpenBootstrapPopup();
        }
        document.getElementById("worrybox").value = "";
      }
    </script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
